<div class="container">

  <h2>Stats for:</h2>

  <p>
    <%=h @page.title %><br/><%=h @page.original_url %>
  </p>

  <div id="chart_div"></div>


</div>

<script type="text/javascript">

    google.load('visualization', '1', {packages: ['corechart', 'bar']});
    google.setOnLoadCallback(drawTitleSubtitle);

    function drawTitleSubtitle() {
        var data = new google.visualization.DataTable();
        data.addColumn('number', 'Hour');
        data.addColumn('number', 'Shows count');

        data.addRows([
            <% @page.hour_stat.each do |key, value| %>
            [<%=h key %>, <%=h value %>],
            <% end %>
        ]);

        var options = {
            chart: {
                title: 'Hourly stats',
                subtitle: ''
            },
            hAxis: {
                title: 'Time of Day'
            },
            vAxis: {
                title: 'Shows'
            }
        };

        var material = new google.charts.Bar(document.getElementById('chart_div'));
        material.draw(data, options);
    }

    jQuery(document).ready(function () {

    });
</script>